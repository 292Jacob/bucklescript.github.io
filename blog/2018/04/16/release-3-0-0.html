<html><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1"/><title>BuckleScript · Write safer and simpler code in OCaml &amp; Reason, compile to JavaScript.</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="BuckleScript · Write safer and simpler code in OCaml &amp; Reason, compile to JavaScript."/><meta property="og:type" content="website"/><meta property="og:url" content="https://bucklescript.github.io/blog/2018/04/16/release-3-0-0.html"/><meta property="og:description" content="bs-platform 3.0.0 is released. It is a major release with some nice stuff."/><link rel="shortcut icon" href="/img/logos/bucklescript_small.svg"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/arduino-light.min.css"/><link rel="alternate" type="application/atom+xml" href="https://bucklescript.github.io/blog/atom.xml" title="BuckleScript Blog ATOM Feed"/><link rel="alternate" type="application/rss+xml" href="https://bucklescript.github.io/blog/feed.xml" title="BuckleScript Blog RSS Feed"/><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logos/bucklescript_small.svg"/><h2 class="headerTitle">BuckleScript</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li><a href="/docs/en/installation.html" target="_self">Docs</a></li><li><a href="/docs/en/playground.html" target="_self">Try</a></li><li><a href="/docs/en/stdlib-overview.html" target="_self">API</a></li><li><a href="/docs/en/community.html" target="_self">Community</a></li><li><a href="/blog" target="_self">Blog</a></li><span><li><a id="languages-menu" href="#"><img class="languages-icon" src="/img/language.svg"/>English</a><div id="languages-dropdown" class="hide"><ul id="languages-dropdown-items"><li><a href="/ja">日本語</a></li><li><a href="/es-ES">Español</a></li><li><a href="/fr">Français</a></li><li><a href="/ko">한국어</a></li><li><a href="/pt-BR">Português (Brasil)</a></li><li><a href="/ru">Русский</a></li><li><a href="/zh-CN">中文</a></li><li><a href="/zh-TW">繁體中文</a></li><li><a href="https://crowdin.com/project/bucklescript" target="_blank">Help Translate</a></li></ul></div></li><script>
        const languagesMenuItem = document.getElementById("languages-menu");
        const languagesDropDown = document.getElementById("languages-dropdown");
        languagesMenuItem.addEventListener("click", function(){
          if(languagesDropDown.className == "hide") {
            languagesDropDown.className = "visible";
          } else {
            languagesDropDown.className = "hide";
          }
        });
      </script></span><li class="navSearchWrapper reactNavSearchWrapper"><input type="text" id="search_input_react" placeholder="Search"/></li><li><a href="https://github.com/bucklescript/bucklescript" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Recent Posts</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Recent Posts</h3><ul><li class="navListItem"><a class="navItem" href="/blog/2018/04/16/release-3-0-0.html"></a></li><li class="navListItem"><a class="navItem" href="/blog/2018/03/13/a-small-step-for-bucklescript.html">A Small Step for BuckleScript...</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/12/01/new-doc-site.html">New Documentation Site!</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/10/09/release-1-7-5.html">BuckleScript 1.7.5</a></li><li class="navListItem"><a class="navItem" href="/blog/2017/10/08/release-1-7-4.html">BuckleScript 1.7.4</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer documentContainer postContainer blogContainer"><div class="wrapper"><div class="lonePost"><div class="post"><header class="postHeader"><h1><a href="/blog/2018/04/16/release-3-0-0.html"></a></h1><p class="post-meta">April 16, 2018</p><div class="authorBlock"></div></header><div><span><p>bs-platform 3.0.0 is released. It is a major release with some nice stuff.</p>
<p>Most highlighted features:</p>
<ol>
<li><p>Compile OCaml boolean as JS boolean, due to the internal representation and pattern match compiler, <code>false/true</code> was compiled to <code>0/1</code>, it is compiled to <code>false/true</code>, special thanks to Cristiano Calcagno for all the hard work.</p></li>
<li><p>Introduce an abstract type which allows people to write platform agnostic code in Reason but generate idiomatic code for native/JS platform. Since it is an abstract type, it also allows fine tuning the underlying representation to meet specific FFI requirements, we also introduced an optional field so that it is perfect to model configure object in a type safe way.</p></li>
<li><p>Generalized raw embedding JS code to function form, this makes the escape hatch (embedding raw JS code) almost penalty free - (The compiler can still do static analysis and arity inference over the raw code except inlining)</p></li>
</ol>
<p>A non complete list of changes is available is here: <a href="https://github.com/BuckleScript/bucklescript/blob/master/Changes.md#300">https://github.com/BuckleScript/bucklescript/blob/master/Changes.md#300</a></p>
<p>We have been working on the BuckleScript compiler for almost four years, but the most challenging part - the OCaml type checker has already been engineered for almost three decades, after these years of work, we think BuckleScript compiler reached a stage which is quite stable and of reasonable reliability as a compiler.</p>
<p>Below is a list of to-dos that we will work on in the future (your suggestions matters!):</p>
<ul>
<li><p>Upgrade the OCaml version, actually OCaml is quite a stable language, there are not too many changes between our version and latest one, but it is good to keep up with the OCaml ecosystem</p></li>
<li><p>A uniform representation for local modules/global modules. Currently local modules are compiled as array  while global modules are compiled as ES6 modules. (The cost of local modules is low though due to aggressive inlining)</p></li>
<li><p>Continue improving  Belt  stdlib to make it usable for average JS developers, some initial nice numbers here: (<a href="https://github.com/bobzhang/belt-simple-bench">https://github.com/bobzhang/belt-simple-bench</a>)</p></li>
<li><p>Enhance FFI to allow create idiomatic type safe JS class</p></li>
<li><p>Introduce a debug mode to enhance  printing OCaml data structures</p></li>
<li><p>Performance,  of course, the compiler performance and generating more performant/readable code is always our top concern</p></li>
</ul>
<p>Thanks</p>
</span></div></div></div><div class="blog-recent"><a class="button" href="/blog">Recent Posts</a></div></div></div></div><span><script src="/js/redirectBlog.js"></script><script src="/js/pjax-api.js"></script><script>window.foo = new Pjax({
          areas: [
            // try to use the first query.
            '.mainContainer, .docsNavContainer .toc .navWrapper',
            // fallback
            'body'
          ],
          link: '.docsNavContainer:not(.docsSliderActive) a',
          update: {
            script: false,
          }
        });
        var languagesMenuItemCopy = document.getElementById("languages-menu");
        languagesMenuItemCopy.addEventListener("click", function(e){
          e.preventDefault();
          e.stopPropagation();
          e.stopImmediatePropagation();
        });</script></span></div><script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.js"></script><script>
              var search = docsearch({
                apiKey: '0fd97db83891aa20810559812d9e69ac',
                indexName: 'bucklescript',
                inputSelector: '#search_input_react'
              });
            </script></body></html>